<html><head>
<!-- This document was created from RTF source by rtftohtml version 3.0.1 -->
<title>Solutions des exercices de programmation en C - Exercice 11.13</title><link rel="Stylesheet" href="./site.css" type="text/css"></head>
<body background="bgr-solu.gif">
<a href="solex188.htm"><img src="./leftg.gif" alt="Previous " border="0" width="30" height="30"></a>
 <a href="solex190.htm"><img src="./rightg.gif" alt="Next " border="0" width="30" height="30"></a>
 <a href="solex176.htm"><img src="./upg.gif" alt="Up " border="0" width="30" height="30"></a>
 <a href="solex.htm"><img src="./topg.gif" alt="Index " border="0" width="30" height="30"></a>
 <a href="solex_c.htm"><img src="./contg.gif" alt="Contents " border="0" width="30" height="30"></a>
<hr size="1" width="100%">
<h3>
Exercice 11.13</h3>
 <p>
 <p>


<pre>#include &lt;stdio.h&gt;
main()
{
<b>  /* Prototype de la fonction FIN_PHRASE */</b>
<b>  int SEPA(char C);</b>
   /* D&eacute;clarations : */
  /* Noms des fichiers et pointeurs de r&eacute;f&eacute;rence */
  char NOM_FICH[30]; 
  FILE *FICHIER;

  /* Autres variables */
  char C;       /* caract&egrave;re lu dans le fichier */
<b>  int ABC[26];  /* compteurs des lettres de l'alphabet */</b>
   int NTOT;     /* nombre total des caract&egrave;res */
  int NAUTRES;  /* nombre des caract&egrave;res qui ne font pas
                   partie de l'alphabet */
  int NMOTS;    /* nombre des mots */
  int NPARA;    /* nombre de paragraphes (retours &agrave; la ligne) */
  int I;        /* indice d'aide */
<b>  int DANS_MOT; /* indicateur logique: */</b>
<b>                /* vrai si la t&ecirc;te de lecture se trouve */</b>
<b>                /* actuellement &agrave; l'int&eacute;rieur d'un mot. */</b>
  
  /* Ouverture de l'ancien fichier en lecture */
  do
    {
     printf(&quot;Nom du fichier texte : &quot;);
     scanf(&quot;%s&quot;, NOM_FICH);
<b>     FICHIER = fopen(NOM_FICH, &quot;r&quot;); </b>
      if (!FICHIER) 
         printf(&quot;\aERREUR: Impossible d'ouvrir &quot;
                &quot;le fichier: %s.\n&quot;, NOM_FICH);
    }
  while (!FICHIER);
<b>  /* Initialisations des variables */</b>
<b>  for (I=0; I&lt;26; I++)</b>
<b>      ABC[I]=0;</b>
   NTOT    =0;
  NAUTRES =0;
  NMOTS   =0;
  NPARA   =0;
<b>  DANS_MOT=0;</b>
<b>  /* Examination des caract&egrave;res du fichier */</b>
<b>  while (!feof(FICHIER))</b>
<b>     {</b>
<b>      C=fgetc(FICHIER);</b>
<b>      if (!feof(FICHIER))</b>
<b>         {</b>
<b>          /* Comptage au niveau caract&egrave;res */</b>
<b>          if (C=='\n')</b>
<b>             NPARA++;</b>
<b>          else</b>
<b>             {</b>
<b>              NTOT++;</b>
<b>              if (C&gt;='a' &amp;&amp; C&lt;='z')</b>
<b>                 ABC[C-'a']++;</b>
<b>              else if (C&gt;='A' &amp;&amp; C&lt;='Z')</b>
<b>                 ABC[C-'A']++;</b>
<b>              else</b>
<b>                 NAUTRES++;</b>
<b>             }</b>
 

<b>          /* Comptage des mots */</b>
<b>          if (SEPA(C))</b>
<b>             {</b>
<b>              if (DANS_MOT)</b>
<b>                 {</b>
<b>                  NMOTS++;</b>
<b>                  DANS_MOT=0;</b>
<b>                 }</b>
<b>             }</b>
<b>          else</b>
<b>             DANS_MOT=1;</b>
<b>         }</b>
<b>      }</b>
   /* Fermeture du fichier */
<b>  fclose(FICHIER);</b>
   /* Affichage du r&eacute;sultat */
  printf(&quot;Votre fichier contient :\n&quot;);
  printf(&quot;\t%d paragraphes\n&quot;, NPARA);
  printf(&quot;\t%d mots\n&quot;, NMOTS);
  printf(&quot;\t%d caract&egrave;res\ndont\n&quot;, NTOT);
  for (I=0; I&lt;26; I++)
       printf(&quot;\t<b>%d</b> fois la lettre <b>%c</b>\n&quot;, <b>ABC[I]</b>, <b>'a'+I</b>);
  printf(&quot;et %d autres caract&egrave;res\n&quot;, NAUTRES);
  return 0;
} 


<b>int SEPA(char C)</b>
<b>{</b>
<b> /* Tableau contenant tous les s&eacute;parateurs de mots */</b>
<b> char SEP[12] = { '\n', ' ', ',', ';', '.', ':',</b>
<b>                 '?', '!', '(', ')', '&quot;', '\'' };</b>
<b> int I;</b>
  
<b> /* Comparaison de C avec tous les &eacute;l&eacute;ments du tableau */</b>
<b> for (I=0 ; C!=SEP[I] &amp;&amp; I&lt;12 ; I++) ;</b>
<b> if (I==12)</b>
<b>     return 0;</b>
<b> else</b>
<b>     return 1;</b>
  /* ou bien simplement : */
 /* return (I != 12);    */
<b>}</b></pre>
<tt></tt><p>
<tt></tt><p><hr size="1" width="100%">
<a href="solex188.htm"><img src="./leftg.gif" alt="Previous " border="0" width="30" height="30"></a>
 <a href="solex190.htm"><img src="./rightg.gif" alt="Next " border="0" width="30" height="30"></a>
 <a href="solex176.htm"><img src="./upg.gif" alt="Up " border="0" width="30" height="30"></a>
 <a href="solex.htm"><img src="./topg.gif" alt="Index " border="0" width="30" height="30"></a>
 <a href="solex_c.htm"><img src="./contg.gif" alt="Contents " border="0" width="30" height="30"></a>
<br><hr size="1" width="100%"><small><a href="prg-c04.htm">Feedback - Copyright &copy</a> 1993,1996,1997 <a href="prg-c02.htm">F.Faber</a></small><p></body></html>